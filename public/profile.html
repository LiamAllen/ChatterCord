<!DOCTYPE html>
<html lang="en">
 <head>
   <meta charset="UTF-8" />
   <meta name="viewport" content="width=device-width, initial-scale=1.0" />
   <meta http-equiv="X-UA-Compatible" content="ie=edge" />
   <link rel="stylesheet" type="text/css" href="/css/index.css">
   <title>ChatterCord v0.0.1</title>
 </head>
 <body>
    <div class="banner">
        <a href="/login"><h2 class="navitem">Login</h2></a>
        <a href="/"><h1 class="navitem">ChatterCord v0.0.1</h1></a>
        <a href="/chat"><h2 class="navitem">Join Chatroom!</h2></a>
        <a href="/profile"><h2 class="navitem_c">Profile</h2></a>
        <a href="/contact"><h2 class="navitem">Contact</h2></a>
      </div>
  <div id="data-container" class="contentPanel">
    <h2>Your Profile</h2>
    <h3 id="username"></h3>
  </div>
  <script>
        async function fetchData() {
        try{
            const response = await fetch('/api/userData'); //Make request to server endpoint.
            if(!response.ok){
                throw new Error(`HTTP error! Status: ${response.status}`);
            }
           const jsonData = await response.json();
            displayData(jsonData);

        } catch (error) {
            console.error('Error fetching data:', error);
        }
    }
    function displayData(jsonData) {
        data = JSON.parse(jsonData);
        const container = document.getElementById('data-container');
        const message = document.getElementById('username')
        message.textContent = "Username : " + data.login;
    }

    fetchData();
  </script>
</body>